{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lq/ifb/src/eshop/frontend/src/views/settings/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/views/settings/User.vue","mtime":1583132470984},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9scS9pZmIvc3JjL2VzaG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9scS9pZmIvc3JjL2VzaG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdXNlcnMgYXMgYXBpLCBzZXR0aW5ncyB9IGZyb20gJ0AvYXBpJzsKaW1wb3J0IFVzZXJGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9zZXR0aW5ncy9Vc2VyRm9ybSc7CmltcG9ydCBkZWVwQ2xvbmUgZnJvbSAnbG9kYXNoLmNsb25lZGVlcCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndXNlcicsCiAgY29tcG9uZW50czogewogICAgVXNlckZvcm06IFVzZXJGb3JtCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3JpZ2luYWxVc2VyOiBudWxsLAogICAgICB1c2VyOiB7fSwKICAgICAgbG9hZGVkOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzTmV3OiBmdW5jdGlvbiBpc05ldygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhdGggPT09ICcvc2V0dGluZ3MvdXNlcnMvbmV3JzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAnJHJvdXRlJzogJ2ZldGNoRGF0YScsCiAgICAndXNlci5wZXJtLmFkbWluJzogZnVuY3Rpb24gdXNlclBlcm1BZG1pbigpIHsKICAgICAgaWYgKCF0aGlzLnVzZXIucGVybS5hZG1pbikgcmV0dXJuOwogICAgICB0aGlzLnVzZXIubG9ja1Bhc3N3b3JkID0gZmFsc2U7CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoWydjbG9zZUhvdmVycycsICdzaG93SG92ZXInLCAnc2V0VXNlciddKSwgewogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZmV0Y2hEYXRhID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3JlZiwgZGVmYXVsdHMsIGlkOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNOZXcpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfcmVmID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRlZmF1bHRzID0gX3JlZi5kZWZhdWx0czsKICAgICAgICAgICAgICAgIHRoaXMudXNlciA9IF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRzLCB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgcGFzc3N3b3JkOiAnJywKICAgICAgICAgICAgICAgICAgcnVsZXM6IFtdLAogICAgICAgICAgICAgICAgICBsb2NrUGFzc3dvcmQ6IGZhbHNlLAogICAgICAgICAgICAgICAgICBpZDogMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucGF0aE1hdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfb2JqZWN0U3ByZWFkOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSB7fTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0KGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMudXNlciA9ICgwLCBfY29udGV4dC50MCkoX2NvbnRleHQudDEsIF9jb250ZXh0LnQyKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDMgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogJy9zZXR0aW5ncy91c2Vycy9uZXcnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMCwgMTldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgICByZXR1cm4gX2ZldGNoRGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZmV0Y2hEYXRhOwogICAgfSgpLAogICAgZGVsZXRlUHJvbXB0OiBmdW5jdGlvbiBkZWxldGVQcm9tcHQoKSB7CiAgICAgIHRoaXMuc2hvd0hvdmVyKCdkZWxldGVVc2VyJyk7CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RlbGV0ZVVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihldmVudCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5yZW1vdmUodGhpcy51c2VyLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAnL3NldHRpbmdzL3VzZXJzJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLiRzaG93U3VjY2Vzcyh0aGlzLiR0KCdzZXR0aW5ncy51c2VyRGVsZXRlZCcpKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgdGhpcy4kc2hvd0Vycm9yKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbMSwgOF1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZGVsZXRlVXNlcihfeCkgewogICAgICAgIHJldHVybiBfZGVsZXRlVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZGVsZXRlVXNlcjsKICAgIH0oKSwKICAgIHNhdmU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zYXZlID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoZXZlbnQpIHsKICAgICAgICB2YXIgdXNlciwgbG9jOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgdXNlciA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMub3JpZ2luYWxVc2VyLCB7fSwgdGhpcy51c2VyKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNOZXcpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5jcmVhdGUodXNlcik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGxvYyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiBsb2MKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy4kc2hvd1N1Y2Nlc3ModGhpcy4kdCgnc2V0dGluZ3MudXNlckNyZWF0ZWQnKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS51cGRhdGUodXNlcik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBpZiAodXNlci5pZCA9PT0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZCkgewogICAgICAgICAgICAgICAgICB0aGlzLnNldFVzZXIoX29iamVjdFNwcmVhZCh7fSwgZGVlcENsb25lKHVzZXIpKSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kc2hvd1N1Y2Nlc3ModGhpcy4kdCgnc2V0dGluZ3MudXNlclVwZGF0ZWQnKSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgdGhpcy4kc2hvd0Vycm9yKF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMsIFtbMiwgMTddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNhdmUoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9zYXZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzYXZlOwogICAgfSgpCiAgfSkKfTs="},{"version":3,"sources":["User.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <form v-if=\"loaded\" @submit=\"save\" class=\"card\">\n      <div class=\"card-title\">\n        <h2 v-if=\"user.id === 0\">{{ $t('settings.newUser') }}</h2>\n        <h2 v-else>{{ $t('settings.user') }} {{ user.username }}</h2>\n      </div>\n\n      <div class=\"card-content\">\n        <user-form :user.sync=\"user\" :isDefault=\"false\" :isNew=\"isNew\" />\n      </div>\n\n      <div class=\"card-action\">\n        <button\n          v-if=\"!isNew\"\n          @click.prevent=\"deletePrompt\"\n          type=\"button\"\n          class=\"button button--flat button--red\"\n          :aria-label=\"$t('buttons.delete')\"\n          :title=\"$t('buttons.delete')\">{{ $t('buttons.delete') }}</button>\n        <input\n          class=\"button button--flat\"\n          type=\"submit\"\n          :value=\"$t('buttons.save')\">\n      </div>\n    </form>\n\n    <div v-if=\"$store.state.show === 'deleteUser'\" class=\"card floating\">\n      <div class=\"card-content\">\n        <p>Are you sure you want to delete this user?</p>\n      </div>\n\n      <div class=\"card-action\">\n        <button class=\"button button--flat button--grey\"\n          @click=\"closeHovers\"\n          v-focus\n          :aria-label=\"$t('buttons.cancel')\"\n          :title=\"$t('buttons.cancel')\">\n          {{ $t('buttons.cancel') }}\n        </button>\n        <button class=\"button button--flat\"\n          @click=\"deleteUser\">\n          {{ $t('buttons.delete') }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex'\nimport { users as api, settings } from '@/api'\nimport UserForm from '@/components/settings/UserForm'\nimport deepClone from 'lodash.clonedeep'\n\nexport default {\n  name: 'user',\n  components: {\n    UserForm\n  },\n  data: () => {\n    return {\n      originalUser: null,\n      user: {},\n      loaded: false\n    }\n  },\n  created () {\n    this.fetchData()\n  },\n  computed: {\n    isNew () {\n      return this.$route.path === '/settings/users/new'\n    }\n  },\n  watch: {\n    '$route': 'fetchData',\n    'user.perm.admin': function () {\n      if (!this.user.perm.admin) return\n      this.user.lockPassword = false\n    }\n  },\n  methods: {\n    ...mapMutations([ 'closeHovers', 'showHover', 'setUser' ]),\n    async fetchData () {\n      try {\n        if (this.isNew) {\n          let { defaults } = await settings.get()\n          this.user = {\n            ...defaults,\n            username: '',\n            passsword: '',\n            rules: [],\n            lockPassword: false,\n            id: 0\n          }\n        } else {\n          const id = this.$route.params.pathMatch\n          this.user = { ...await api.get(id) }\n        }\n\n        this.loaded = true\n      } catch (e) {\n        this.$router.push({ path: '/settings/users/new' })\n      }\n    },\n    deletePrompt () {\n      this.showHover('deleteUser')\n    },\n    async deleteUser (event) {\n      event.preventDefault()\n\n      try {\n        await api.remove(this.user.id)\n        this.$router.push({ path: '/settings/users' })\n        this.$showSuccess(this.$t('settings.userDeleted'))\n      } catch (e) {\n        this.$showError(e)\n      }\n    },\n    async save (event) {\n      event.preventDefault()\n      let user = {\n        ...this.originalUser,\n        ...this.user\n      }\n\n      try {\n        if (this.isNew) {\n          const loc = await api.create(user)\n          this.$router.push({ path: loc })\n          this.$showSuccess(this.$t('settings.userCreated'))\n        } else {\n          await api.update(user)\n\n          if (user.id === this.$store.state.user.id) {\n            this.setUser({ ...deepClone(user) })\n          }\n\n          this.$showSuccess(this.$t('settings.userUpdated'))\n        }\n      } catch (e) {\n        this.$showError(e)\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/settings"}]}