{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/thread-loader/dist/cjs.js!/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/lq/ifb/src/eshop/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/lq/ifb/src/eshop/frontend/src/router/index.js","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/router/index.js","mtime":1583132470980},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBMb2dpbiBmcm9tICdAL3ZpZXdzL0xvZ2luJzsKaW1wb3J0IExheW91dCBmcm9tICdAL3ZpZXdzL0xheW91dCc7CmltcG9ydCBGaWxlcyBmcm9tICdAL3ZpZXdzL0ZpbGVzJzsKaW1wb3J0IFNoYXJlIGZyb20gJ0Avdmlld3MvU2hhcmUnOwppbXBvcnQgVXNlcnMgZnJvbSAnQC92aWV3cy9zZXR0aW5ncy9Vc2Vycyc7CmltcG9ydCBVc2VyIGZyb20gJ0Avdmlld3Mvc2V0dGluZ3MvVXNlcic7CmltcG9ydCBTZXR0aW5ncyBmcm9tICdAL3ZpZXdzL1NldHRpbmdzJzsKaW1wb3J0IEdsb2JhbFNldHRpbmdzIGZyb20gJ0Avdmlld3Mvc2V0dGluZ3MvR2xvYmFsJzsKaW1wb3J0IFByb2ZpbGVTZXR0aW5ncyBmcm9tICdAL3ZpZXdzL3NldHRpbmdzL1Byb2ZpbGUnOwppbXBvcnQgRXJyb3I0MDMgZnJvbSAnQC92aWV3cy9lcnJvcnMvNDAzJzsKaW1wb3J0IEVycm9yNDA0IGZyb20gJ0Avdmlld3MvZXJyb3JzLzQwNCc7CmltcG9ydCBFcnJvcjUwMCBmcm9tICdAL3ZpZXdzL2Vycm9ycy81MDAnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IGJhc2VVUkwgfSBmcm9tICdAL3V0aWxzL2NvbnN0YW50cyc7ClZ1ZS51c2UoUm91dGVyKTsKdmFyIHJvdXRlciA9IG5ldyBSb3V0ZXIoewogIGJhc2U6IGJhc2VVUkwsCiAgbW9kZTogJ2hpc3RvcnknLAogIHJvdXRlczogW3sKICAgIHBhdGg6ICcvbG9naW4nLAogICAgbmFtZTogJ0xvZ2luJywKICAgIGNvbXBvbmVudDogTG9naW4sCiAgICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgICAgaWYgKHN0b3JlLmdldHRlcnMuaXNMb2dnZWQpIHsKICAgICAgICByZXR1cm4gbmV4dCh7CiAgICAgICAgICBwYXRoOiAnL2ZpbGVzJwogICAgICAgIH0pOwogICAgICB9CgogICAgICBkb2N1bWVudC50aXRsZSA9ICdMb2dpbic7CiAgICAgIG5leHQoKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnLyonLAogICAgY29tcG9uZW50OiBMYXlvdXQsCiAgICBjaGlsZHJlbjogW3sKICAgICAgcGF0aDogJy9zaGFyZS8qJywKICAgICAgbmFtZTogJ1NoYXJlJywKICAgICAgY29tcG9uZW50OiBTaGFyZQogICAgfSwgewogICAgICBwYXRoOiAnL2ZpbGVzLyonLAogICAgICBuYW1lOiAnRmlsZXMnLAogICAgICBjb21wb25lbnQ6IEZpbGVzLAogICAgICBtZXRhOiB7CiAgICAgICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgICAgIH0KICAgIH0sIHsKICAgICAgcGF0aDogJy9zZXR0aW5ncycsCiAgICAgIG5hbWU6ICdTZXR0aW5ncycsCiAgICAgIGNvbXBvbmVudDogU2V0dGluZ3MsCiAgICAgIHJlZGlyZWN0OiB7CiAgICAgICAgcGF0aDogJy9zZXR0aW5ncy9wcm9maWxlJwogICAgICB9LAogICAgICBtZXRhOiB7CiAgICAgICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgICAgIH0sCiAgICAgIGNoaWxkcmVuOiBbewogICAgICAgIHBhdGg6ICcvc2V0dGluZ3MvcHJvZmlsZScsCiAgICAgICAgbmFtZTogJ1Byb2ZpbGUgU2V0dGluZ3MnLAogICAgICAgIGNvbXBvbmVudDogUHJvZmlsZVNldHRpbmdzCiAgICAgIH0sIHsKICAgICAgICBwYXRoOiAnL3NldHRpbmdzL2dsb2JhbCcsCiAgICAgICAgbmFtZTogJ0dsb2JhbCBTZXR0aW5ncycsCiAgICAgICAgY29tcG9uZW50OiBHbG9iYWxTZXR0aW5ncywKICAgICAgICBtZXRhOiB7CiAgICAgICAgICByZXF1aXJlc0FkbWluOiB0cnVlCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcGF0aDogJy9zZXR0aW5ncy91c2VycycsCiAgICAgICAgbmFtZTogJ1VzZXJzJywKICAgICAgICBjb21wb25lbnQ6IFVzZXJzLAogICAgICAgIG1ldGE6IHsKICAgICAgICAgIHJlcXVpcmVzQWRtaW46IHRydWUKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBwYXRoOiAnL3NldHRpbmdzL3VzZXJzLyonLAogICAgICAgIG5hbWU6ICdVc2VyJywKICAgICAgICBjb21wb25lbnQ6IFVzZXIsCiAgICAgICAgbWV0YTogewogICAgICAgICAgcmVxdWlyZXNBZG1pbjogdHJ1ZQogICAgICAgIH0KICAgICAgfV0KICAgIH0sIHsKICAgICAgcGF0aDogJy80MDMnLAogICAgICBuYW1lOiAnRm9yYmlkZGVuJywKICAgICAgY29tcG9uZW50OiBFcnJvcjQwMwogICAgfSwgewogICAgICBwYXRoOiAnLzQwNCcsCiAgICAgIG5hbWU6ICdOb3QgRm91bmQnLAogICAgICBjb21wb25lbnQ6IEVycm9yNDA0CiAgICB9LCB7CiAgICAgIHBhdGg6ICcvNTAwJywKICAgICAgbmFtZTogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsCiAgICAgIGNvbXBvbmVudDogRXJyb3I1MDAKICAgIH0sIHsKICAgICAgcGF0aDogJy9maWxlcycsCiAgICAgIHJlZGlyZWN0OiB7CiAgICAgICAgcGF0aDogJy9maWxlcy8nCiAgICAgIH0KICAgIH0sIHsKICAgICAgcGF0aDogJy8qJywKICAgICAgcmVkaXJlY3Q6IGZ1bmN0aW9uIHJlZGlyZWN0KHRvKSB7CiAgICAgICAgcmV0dXJuICIvZmlsZXMiLmNvbmNhdCh0by5wYXRoKTsKICAgICAgfQogICAgfV0KICB9XQp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgZG9jdW1lbnQudGl0bGUgPSB0by5uYW1lOwoKICBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlc0F1dGg7CiAgfSkpIHsKICAgIGlmICghc3RvcmUuZ2V0dGVycy5pc0xvZ2dlZCkgewogICAgICBuZXh0KHsKICAgICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcmVkaXJlY3Q6IHRvLmZ1bGxQYXRoCiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICByZXR1cm4gcmVjb3JkLm1ldGEucmVxdWlyZXNBZG1pbjsKICAgIH0pKSB7CiAgICAgIGlmICghc3RvcmUuc3RhdGUudXNlci5wZXJtLmFkbWluKSB7CiAgICAgICAgbmV4dCh7CiAgICAgICAgICBwYXRoOiAnLzQwMycKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KICB9CgogIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/home/lq/ifb/src/eshop/frontend/src/router/index.js"],"names":["Vue","Router","Login","Layout","Files","Share","Users","User","Settings","GlobalSettings","ProfileSettings","Error403","Error404","Error500","store","baseURL","use","router","base","mode","routes","path","name","component","beforeEnter","to","from","next","getters","isLogged","document","title","children","meta","requiresAuth","redirect","requiresAdmin","beforeEach","matched","some","record","query","fullPath","state","user","perm","admin"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport Login from '@/views/Login'\nimport Layout from '@/views/Layout'\nimport Files from '@/views/Files'\nimport Share from '@/views/Share'\nimport Users from '@/views/settings/Users'\nimport User from '@/views/settings/User'\nimport Settings from '@/views/Settings'\nimport GlobalSettings from '@/views/settings/Global'\nimport ProfileSettings from '@/views/settings/Profile'\nimport Error403 from '@/views/errors/403'\nimport Error404 from '@/views/errors/404'\nimport Error500 from '@/views/errors/500'\nimport store from '@/store'\nimport { baseURL } from '@/utils/constants'\n\nVue.use(Router)\n\nconst router = new Router({\n  base: baseURL,\n  mode: 'history',\n  routes: [\n    {\n      path: '/login',\n      name: 'Login',\n      component: Login,\n      beforeEnter: (to, from, next) => {\n        if (store.getters.isLogged) {\n          return next({ path: '/files' })\n        }\n\n        document.title = 'Login'\n        next()\n      }\n    },\n    {\n      path: '/*',\n      component: Layout,\n      children: [\n        {\n          path: '/share/*',\n          name: 'Share',\n          component: Share\n        },\n        {\n          path: '/files/*',\n          name: 'Files',\n          component: Files,\n          meta: {\n            requiresAuth: true\n          }\n        },\n        {\n          path: '/settings',\n          name: 'Settings',\n          component: Settings,\n          redirect: {\n            path: '/settings/profile'\n          },\n          meta: {\n            requiresAuth: true\n          },\n          children: [\n            {\n              path: '/settings/profile',\n              name: 'Profile Settings',\n              component: ProfileSettings\n            },\n            {\n              path: '/settings/global',\n              name: 'Global Settings',\n              component: GlobalSettings,\n              meta: {\n                requiresAdmin: true\n              }\n            },\n            {\n              path: '/settings/users',\n              name: 'Users',\n              component: Users,\n              meta: {\n                requiresAdmin: true\n              }\n            },\n            {\n              path: '/settings/users/*',\n              name: 'User',\n              component: User,\n              meta: {\n                requiresAdmin: true\n              }\n            }\n          ]\n        },\n        {\n          path: '/403',\n          name: 'Forbidden',\n          component: Error403\n        },\n        {\n          path: '/404',\n          name: 'Not Found',\n          component: Error404\n        },\n        {\n          path: '/500',\n          name: 'Internal Server Error',\n          component: Error500\n        },\n        {\n          path: '/files',\n          redirect: {\n            path: '/files/'\n          }\n        },\n        {\n          path: '/*',\n          redirect: to => `/files${to.path}`\n        }\n      ]\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  document.title = to.name\n\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!store.getters.isLogged) {\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      })\n\n      return\n    }\n\n    if (to.matched.some(record => record.meta.requiresAdmin)) {\n      if (!store.state.user.perm.admin) {\n        next({ path: '/403' })\n        return\n      }\n    }\n  }\n\n  next()\n})\n\nexport default router\n"]}]}