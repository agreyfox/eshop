{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lq/ifb/src/eshop/frontend/src/components/buttons/Download.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/components/buttons/Download.vue","mtime":1583132470972},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9ob21lL2xxL2lmYi9zcmMvZXNob3AvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGZpbGVzIGFzIGFwaSB9IGZyb20gJ0AvYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkb3dubG9hZC1idXR0b24nLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3JlcScsICdzZWxlY3RlZCddKSwge30sIG1hcEdldHRlcnMoWydpc0xpc3RpbmcnLCAnc2VsZWN0ZWRDb3VudCddKSksCiAgbWV0aG9kczogewogICAgZG93bmxvYWQ6IGZ1bmN0aW9uIGRvd25sb2FkKCkgewogICAgICBpZiAoIXRoaXMuaXNMaXN0aW5nKSB7CiAgICAgICAgYXBpLmRvd25sb2FkKG51bGwsIHRoaXMuJHJvdXRlLnBhdGgpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb3VudCA9PT0gMSAmJiAhdGhpcy5yZXEuaXRlbXNbdGhpcy5zZWxlY3RlZFswXV0uaXNEaXIpIHsKICAgICAgICBhcGkuZG93bmxvYWQobnVsbCwgdGhpcy5yZXEuaXRlbXNbdGhpcy5zZWxlY3RlZFswXV0udXJsKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2hvd0hvdmVyJywgJ2Rvd25sb2FkJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Download.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AASA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AACA,SAAA,KAAA,IAAA,GAAA,QAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,KAAA,EAAA,UAAA,CAAA,CADA,MAEA,UAAA,CAAA,CAAA,WAAA,EAAA,eAAA,CAAA,CAFA,CAFA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AACA,UAAA,CAAA,KAAA,SAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,CAAA,IAAA,EAAA,KAAA,MAAA,CAAA,IAAA;AACA;AACA;;AAEA,UAAA,KAAA,aAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CAAA,EAAA,KAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,CAAA,IAAA,EAAA,KAAA,GAAA,CAAA,KAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CAAA,EAAA,GAAA;AACA;AACA;;AAEA,WAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,UAAA;AACA;AAbA;AANA,CAAA","sourcesContent":["<template>\n  <button @click=\"download\" :aria-label=\"$t('buttons.download')\" :title=\"$t('buttons.download')\" id=\"download-button\" class=\"action\">\n    <i class=\"material-icons\">file_download</i>\n    <span>{{ $t('buttons.download') }}</span>\n    <span v-if=\"selectedCount > 0\" class=\"counter\">{{ selectedCount }}</span>\n  </button>\n</template>\n\n<script>\nimport {mapGetters, mapState} from 'vuex'\nimport { files as api } from '@/api'\n\nexport default {\n  name: 'download-button',\n  computed: {\n    ...mapState(['req', 'selected']),\n    ...mapGetters(['isListing', 'selectedCount'])\n  },\n  methods: {\n    download: function () {\n      if (!this.isListing) {\n        api.download(null, this.$route.path)\n        return\n      }\n\n      if (this.selectedCount === 1 && !this.req.items[this.selected[0]].isDir) {\n        api.download(null, this.req.items[this.selected[0]].url)\n        return\n      }\n\n      this.$store.commit('showHover', 'download')\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/buttons"}]}