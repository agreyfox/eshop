{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/thread-loader/dist/cjs.js!/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lq/ifb/src/eshop/frontend/src/components/files/ListingItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/components/files/ListingItem.vue","mtime":1583132470976},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvbHEvaWZiL3NyYy9lc2hvcC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgZmlsZXNpemUgZnJvbSAnZmlsZXNpemUnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCB7IGZpbGVzIGFzIGFwaSB9IGZyb20gJ0AvYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpdGVtJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG91Y2hlczogMAogICAgfTsKICB9LAogIHByb3BzOiBbJ25hbWUnLCAnaXNEaXInLCAndXJsJywgJ3R5cGUnLCAnc2l6ZScsICdtb2RpZmllZCcsICdpbmRleCddLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3NlbGVjdGVkJywgJ3JlcSddKSwge30sIG1hcEdldHRlcnMoWydzZWxlY3RlZENvdW50J10pLCB7CiAgICBpc1NlbGVjdGVkOiBmdW5jdGlvbiBpc1NlbGVjdGVkKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZC5pbmRleE9mKHRoaXMuaW5kZXgpICE9PSAtMTsKICAgIH0sCiAgICBpY29uOiBmdW5jdGlvbiBpY29uKCkgewogICAgICBpZiAodGhpcy5pc0RpcikgcmV0dXJuICdmb2xkZXInOwogICAgICBpZiAodGhpcy50eXBlID09PSAnaW1hZ2UnKSByZXR1cm4gJ2luc2VydF9waG90byc7CiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdhdWRpbycpIHJldHVybiAndm9sdW1lX3VwJzsKICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3ZpZGVvJykgcmV0dXJuICdtb3ZpZSc7CiAgICAgIHJldHVybiAnaW5zZXJ0X2RyaXZlX2ZpbGUnOwogICAgfSwKICAgIGNhbkRyb3A6IGZ1bmN0aW9uIGNhbkRyb3AoKSB7CiAgICAgIGlmICghdGhpcy5pc0RpcikgcmV0dXJuIGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuc2VsZWN0ZWRbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgICB2YXIgaSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmICh0aGlzLnJlcS5pdGVtc1tpXS51cmwgPT09IHRoaXMudXJsKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0cnkgewogICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikgewogICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbJ2FkZFNlbGVjdGVkJywgJ3JlbW92ZVNlbGVjdGVkJywgJ3Jlc2V0U2VsZWN0ZWQnXSksIHsKICAgIGh1bWFuU2l6ZTogZnVuY3Rpb24gaHVtYW5TaXplKCkgewogICAgICByZXR1cm4gZmlsZXNpemUodGhpcy5zaXplKTsKICAgIH0sCiAgICBodW1hblRpbWU6IGZ1bmN0aW9uIGh1bWFuVGltZSgpIHsKICAgICAgcmV0dXJuIG1vbWVudCh0aGlzLm1vZGlmaWVkKS5mcm9tTm93KCk7CiAgICB9LAogICAgZHJhZ1N0YXJ0OiBmdW5jdGlvbiBkcmFnU3RhcnQoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ291bnQgPT09IDApIHsKICAgICAgICB0aGlzLmFkZFNlbGVjdGVkKHRoaXMuaW5kZXgpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmlzU2VsZWN0ZWQpIHsKICAgICAgICB0aGlzLnJlc2V0U2VsZWN0ZWQoKTsKICAgICAgICB0aGlzLmFkZFNlbGVjdGVkKHRoaXMuaW5kZXgpOwogICAgICB9CiAgICB9LAogICAgZHJhZ092ZXI6IGZ1bmN0aW9uIGRyYWdPdmVyKGV2ZW50KSB7CiAgICAgIGlmICghdGhpcy5jYW5Ecm9wKSByZXR1cm47CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBlbCA9IGV2ZW50LnRhcmdldDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7CiAgICAgICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2l0ZW0nKSkgewogICAgICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50OwogICAgICAgIH0KICAgICAgfQoKICAgICAgZWwuc3R5bGUub3BhY2l0eSA9IDE7CiAgICB9LAogICAgZHJvcDogZnVuY3Rpb24gZHJvcChldmVudCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmNhbkRyb3ApIHJldHVybjsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb3VudCA9PT0gMCkgcmV0dXJuOwogICAgICB2YXIgaXRlbXMgPSBbXTsKICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTsKICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5zZWxlY3RlZFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkgewogICAgICAgICAgdmFyIGkgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICBpdGVtcy5wdXNoKHsKICAgICAgICAgICAgZnJvbTogdGhpcy5yZXEuaXRlbXNbaV0udXJsLAogICAgICAgICAgICB0bzogdGhpcy51cmwgKyB0aGlzLnJlcS5pdGVtc1tpXS5uYW1lCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7CiAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTsKICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikgewogICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBhcGkubW92ZShpdGVtcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0UmVsb2FkJywgdHJ1ZSk7CiAgICAgIH0pLmNhdGNoKHRoaXMuJHNob3dFcnJvcik7CiAgICB9LAogICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ291bnQgIT09IDApIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuc2VsZWN0ZWQuaW5kZXhPZih0aGlzLmluZGV4KSAhPT0gLTEpIHsKICAgICAgICB0aGlzLnJlbW92ZVNlbGVjdGVkKHRoaXMuaW5kZXgpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7CiAgICAgICAgdmFyIGZpID0gMDsKICAgICAgICB2YXIgbGEgPSAwOwoKICAgICAgICBpZiAodGhpcy5pbmRleCA+IHRoaXMuc2VsZWN0ZWRbMF0pIHsKICAgICAgICAgIGZpID0gdGhpcy5zZWxlY3RlZFswXSArIDE7CiAgICAgICAgICBsYSA9IHRoaXMuaW5kZXg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZpID0gdGhpcy5pbmRleDsKICAgICAgICAgIGxhID0gdGhpcy5zZWxlY3RlZFswXSAtIDE7CiAgICAgICAgfQoKICAgICAgICBmb3IgKDsgZmkgPD0gbGE7IGZpKyspIHsKICAgICAgICAgIHRoaXMuYWRkU2VsZWN0ZWQoZmkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIWV2ZW50LmN0cmxLZXkgJiYgIXRoaXMuJHN0b3JlLnN0YXRlLm11bHRpcGxlKSB0aGlzLnJlc2V0U2VsZWN0ZWQoKTsKICAgICAgdGhpcy5hZGRTZWxlY3RlZCh0aGlzLmluZGV4KTsKICAgIH0sCiAgICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiB0b3VjaHN0YXJ0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi50b3VjaGVzID0gMDsKICAgICAgfSwgMzAwKTsKICAgICAgdGhpcy50b3VjaGVzKys7CgogICAgICBpZiAodGhpcy50b3VjaGVzID4gMSkgewogICAgICAgIHRoaXMub3BlbigpOwogICAgICB9CiAgICB9LAogICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IHRoaXMudXJsCiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["ListingItem.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"item\"\n  role=\"button\"\n  tabindex=\"0\"\n  draggable=\"true\"\n  @dragstart=\"dragStart\"\n  @dragover=\"dragOver\"\n  @drop=\"drop\"\n  @click=\"click\"\n  @dblclick=\"open\"\n  @touchstart=\"touchstart\"\n  :data-dir=\"isDir\"\n  :aria-label=\"name\"\n  :aria-selected=\"isSelected\">\n    <div>\n      <i class=\"material-icons\">{{ icon }}</i>\n    </div>\n\n    <div>\n      <p class=\"name\">{{ name }}</p>\n\n      <p v-if=\"isDir\" class=\"size\" data-order=\"-1\">&mdash;</p>\n      <p v-else class=\"size\" :data-order=\"humanSize()\">{{ humanSize() }}</p>\n\n      <p class=\"modified\">\n        <time :datetime=\"modified\">{{ humanTime() }}</time>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapMutations, mapGetters, mapState } from 'vuex'\nimport filesize from 'filesize'\nimport moment from 'moment'\nimport { files as api } from '@/api'\n\nexport default {\n  name: 'item',\n  data: function () {\n    return {\n      touches: 0\n    }\n  },\n  props: ['name', 'isDir', 'url', 'type', 'size', 'modified', 'index'],\n  computed: {\n    ...mapState(['selected', 'req']),\n    ...mapGetters(['selectedCount']),\n    isSelected () {\n      return (this.selected.indexOf(this.index) !== -1)\n    },\n    icon () {\n      if (this.isDir) return 'folder'\n      if (this.type === 'image') return 'insert_photo'\n      if (this.type === 'audio') return 'volume_up'\n      if (this.type === 'video') return 'movie'\n      return 'insert_drive_file'\n    },\n    canDrop () {\n      if (!this.isDir) return false\n\n      for (let i of this.selected) {\n        if (this.req.items[i].url === this.url) {\n          return false\n        }\n      }\n\n      return true\n    }\n  },\n  methods: {\n    ...mapMutations(['addSelected', 'removeSelected', 'resetSelected']),\n    humanSize: function () {\n      return filesize(this.size)\n    },\n    humanTime: function () {\n      return moment(this.modified).fromNow()\n    },\n    dragStart: function () {\n      if (this.selectedCount === 0) {\n        this.addSelected(this.index)\n        return\n      }\n\n      if (!this.isSelected) {\n        this.resetSelected()\n        this.addSelected(this.index)\n      }\n    },\n    dragOver: function (event) {\n      if (!this.canDrop) return\n\n      event.preventDefault()\n      let el = event.target\n\n      for (let i = 0; i < 5; i++) {\n        if (!el.classList.contains('item')) {\n          el = el.parentElement\n        }\n      }\n\n      el.style.opacity = 1\n    },\n    drop: function (event) {\n      if (!this.canDrop) return\n      event.preventDefault()\n\n      if (this.selectedCount === 0) return\n\n      let items = []\n\n      for (let i of this.selected) {\n        items.push({\n          from: this.req.items[i].url,\n          to: this.url + this.req.items[i].name\n        })\n      }\n\n      api.move(items)\n        .then(() => {\n          this.$store.commit('setReload', true)\n        })\n        .catch(this.$showError)\n    },\n    click: function (event) {\n      if (this.selectedCount !== 0) event.preventDefault()\n      if (this.$store.state.selected.indexOf(this.index) !== -1) {\n        this.removeSelected(this.index)\n        return\n      }\n\n      if (event.shiftKey) {\n        let fi = 0\n        let la = 0\n\n        if (this.index > this.selected[0]) {\n          fi = this.selected[0] + 1\n          la = this.index\n        } else {\n          fi = this.index\n          la = this.selected[0] - 1\n        }\n\n        for (; fi <= la; fi++) {\n          this.addSelected(fi)\n        }\n\n        return\n      }\n\n      if (!event.ctrlKey && !this.$store.state.multiple) this.resetSelected()\n      this.addSelected(this.index)\n    },\n    touchstart () {\n      setTimeout(() => {\n        this.touches = 0\n      }, 300)\n\n      this.touches++\n      if (this.touches > 1) {\n        this.open()\n      }\n    },\n    open: function () {\n      this.$router.push({path: this.url})\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/files"}]}