{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/thread-loader/dist/cjs.js!/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lq/ifb/src/eshop/frontend/src/components/prompts/Info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/components/prompts/Info.vue","mtime":1583132470976},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9scS9pZmIvc3JjL2VzaG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9scS9pZmIvc3JjL2VzaG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgZmlsZXNpemUgZnJvbSAnZmlsZXNpemUnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCB7IGZpbGVzIGFzIGFwaSB9IGZyb20gJ0AvYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpbmZvJywKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydyZXEnLCAnc2VsZWN0ZWQnXSksIHt9LCBtYXBHZXR0ZXJzKFsnc2VsZWN0ZWRDb3VudCcsICdpc0xpc3RpbmcnXSksIHsKICAgIGh1bWFuU2l6ZTogZnVuY3Rpb24gaHVtYW5TaXplKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZENvdW50ID09PSAwIHx8ICF0aGlzLmlzTGlzdGluZykgewogICAgICAgIHJldHVybiBmaWxlc2l6ZSh0aGlzLnJlcS5zaXplKTsKICAgICAgfQoKICAgICAgdmFyIHN1bSA9IDA7CiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5zZWxlY3RlZFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgIHZhciBzZWxlY3RlZCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgc3VtICs9IHRoaXMucmVxLml0ZW1zW3NlbGVjdGVkXS5zaXplOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGZpbGVzaXplKHN1bSk7CiAgICB9LAogICAgaHVtYW5UaW1lOiBmdW5jdGlvbiBodW1hblRpbWUoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ291bnQgPT09IDApIHsKICAgICAgICByZXR1cm4gbW9tZW50KHRoaXMucmVxLm1vZGlmaWVkKS5mcm9tTm93KCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBtb21lbnQodGhpcy5yZXEuaXRlbXNbdGhpcy5zZWxlY3RlZFswXV0pLmZyb21Ob3coKTsKICAgIH0sCiAgICBuYW1lOiBmdW5jdGlvbiBuYW1lKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZENvdW50ID09PSAwID8gdGhpcy5yZXEubmFtZSA6IHRoaXMucmVxLml0ZW1zW3RoaXMuc2VsZWN0ZWRbMF1dLm5hbWU7CiAgICB9LAogICAgZGlyOiBmdW5jdGlvbiBkaXIoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQ291bnQgPiAxIHx8ICh0aGlzLnNlbGVjdGVkQ291bnQgPT09IDAgPyB0aGlzLnJlcS5pc0RpciA6IHRoaXMucmVxLml0ZW1zW3RoaXMuc2VsZWN0ZWRbMF1dLmlzRGlyKTsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBjaGVja3N1bTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NoZWNrc3VtID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShldmVudCwgYWxnbykgewogICAgICAgIHZhciBsaW5rLCBoYXNoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb3VudCkgewogICAgICAgICAgICAgICAgICBsaW5rID0gdGhpcy5yZXEuaXRlbXNbdGhpcy5zZWxlY3RlZFswXV0udXJsOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgbGluayA9IHRoaXMuJHJvdXRlLnBhdGg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuY2hlY2tzdW0obGluaywgYWxnbyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGhhc2ggPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuaW5uZXJIVE1MID0gaGFzaDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICB0aGlzLiRzaG93RXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1syLCA5XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjaGVja3N1bShfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9jaGVja3N1bS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY2hlY2tzdW07CiAgICB9KCkKICB9Cn07"},{"version":3,"sources":["Info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,QAAA,MAAA,UAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,SAAA,KAAA,IAAA,GAAA,QAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,KAAA,EAAA,UAAA,CAAA,CADA,MAEA,UAAA,CAAA,CAAA,eAAA,EAAA,WAAA,CAAA,CAFA;AAGA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,KAAA,aAAA,KAAA,CAAA,IAAA,CAAA,KAAA,SAAA,EAAA;AACA,eAAA,QAAA,CAAA,KAAA,GAAA,CAAA,IAAA,CAAA;AACA;;AAEA,UAAA,GAAA,GAAA,CAAA;AALA;AAAA;AAAA;;AAAA;AAOA,6BAAA,KAAA,QAAA,8HAAA;AAAA,cAAA,QAAA;AACA,UAAA,GAAA,IAAA,KAAA,GAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWA,aAAA,QAAA,CAAA,GAAA,CAAA;AACA,KAfA;AAgBA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,KAAA,aAAA,KAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA,KAAA,GAAA,CAAA,QAAA,CAAA,CAAA,OAAA,EAAA;AACA;;AAEA,aAAA,MAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAA,EAAA;AACA,KAtBA;AAuBA,IAAA,IAAA,EAAA,gBAAA;AACA,aAAA,KAAA,aAAA,KAAA,CAAA,GAAA,KAAA,GAAA,CAAA,IAAA,GAAA,KAAA,GAAA,CAAA,KAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CAAA,EAAA,IAAA;AACA,KAzBA;AA0BA,IAAA,GAAA,EAAA,eAAA;AACA,aAAA,KAAA,aAAA,GAAA,CAAA,KAAA,KAAA,aAAA,KAAA,CAAA,GACA,KAAA,GAAA,CAAA,KADA,GAEA,KAAA,GAAA,CAAA,KAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CAAA,EAAA,KAFA,CAAA;AAGA;AA9BA,IAFA;AAkCA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA;AAAA;AAAA;AAAA,8BAAA,iBAAA,KAAA,EAAA,IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,cAAA;;AAIA,oBAAA,KAAA,aAAA,EAAA;AACA,kBAAA,IAAA,GAAA,KAAA,GAAA,CAAA,KAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CAAA,EAAA,GAAA;AACA,iBAFA,MAEA;AACA,kBAAA,IAAA,GAAA,KAAA,MAAA,CAAA,IAAA;AACA;;AATA;AAAA;AAAA,uBAYA,GAAA,CAAA,QAAA,CAAA,IAAA,EAAA,IAAA,CAZA;;AAAA;AAYA,gBAAA,IAZA;AAaA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,SAAA,GAAA,IAAA;AAdA;AAAA;;AAAA;AAAA;AAAA;AAgBA,qBAAA,UAAA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADA;AAlCA,CAAA","sourcesContent":["<template>\n  <div class=\"card floating\">\n    <div class=\"card-title\">\n      <h2>{{ $t('prompts.fileInfo') }}</h2>\n    </div>\n\n    <div class=\"card-content\">\n      <p v-if=\"selected.length > 1\">{{ $t('prompts.filesSelected', { count: selected.length }) }}</p>\n\n      <p class=\"break-word\" v-if=\"selected.length < 2\"><strong>{{ $t('prompts.displayName') }}</strong> {{ name }}</p>\n      <p v-if=\"!dir || selected.length > 1\"><strong>{{ $t('prompts.size') }}:</strong> <span id=\"content_length\"></span> {{ humanSize }}</p>\n      <p v-if=\"selected.length < 2\"><strong>{{ $t('prompts.lastModified') }}:</strong> {{ humanTime }}</p>\n\n      <template v-if=\"dir && selected.length === 0\">\n        <p><strong>{{ $t('prompts.numberFiles') }}:</strong> {{ req.numFiles }}</p>\n        <p><strong>{{ $t('prompts.numberDirs') }}:</strong> {{ req.numDirs }}</p>\n      </template>\n\n      <template v-if=\"!dir\">\n        <p><strong>MD5: </strong><code><a @click=\"checksum($event, 'md5')\">{{ $t('prompts.show') }}</a></code></p>\n        <p><strong>SHA1: </strong><code><a @click=\"checksum($event, 'sha1')\">{{ $t('prompts.show') }}</a></code></p>\n        <p><strong>SHA256: </strong><code><a @click=\"checksum($event, 'sha256')\">{{ $t('prompts.show') }}</a></code></p>\n        <p><strong>SHA512: </strong><code><a @click=\"checksum($event, 'sha512')\">{{ $t('prompts.show') }}</a></code></p>\n      </template>\n    </div>\n\n    <div class=\"card-action\">\n      <button type=\"submit\"\n        @click=\"$store.commit('closeHovers')\"\n        class=\"button button--flat\"\n        :aria-label=\"$t('buttons.ok')\"\n        :title=\"$t('buttons.ok')\">{{ $t('buttons.ok') }}</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {mapState, mapGetters} from 'vuex'\nimport filesize from 'filesize'\nimport moment from 'moment'\nimport { files as api } from '@/api'\n\nexport default {\n  name: 'info',\n  computed: {\n    ...mapState(['req', 'selected']),\n    ...mapGetters(['selectedCount', 'isListing']),\n    humanSize: function () {\n      if (this.selectedCount === 0 || !this.isListing) {\n        return filesize(this.req.size)\n      }\n\n      let sum = 0\n\n      for (let selected of this.selected) {\n        sum += this.req.items[selected].size\n      }\n\n      return filesize(sum)\n    },\n    humanTime: function () {\n      if (this.selectedCount === 0) {\n        return moment(this.req.modified).fromNow()\n      }\n\n      return moment(this.req.items[this.selected[0]]).fromNow()\n    },\n    name: function () {\n      return this.selectedCount === 0 ? this.req.name : this.req.items[this.selected[0]].name\n    },\n    dir: function () {\n      return this.selectedCount > 1 || (this.selectedCount === 0\n        ? this.req.isDir\n        : this.req.items[this.selected[0]].isDir)\n    }\n  },\n  methods: {\n    checksum: async function (event, algo) {\n      event.preventDefault()\n\n      let link\n\n      if (this.selectedCount) {\n        link = this.req.items[this.selected[0]].url\n      } else {\n        link = this.$route.path\n      }\n\n      try {\n        const hash = await api.checksum(link, algo)\n        // eslint-disable-next-line\n        event.target.innerHTML = hash\n      } catch (e) {\n        this.$showError(e)\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/prompts"}]}