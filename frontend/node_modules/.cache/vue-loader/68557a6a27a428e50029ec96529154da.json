{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lq/ifb/src/eshop/frontend/src/components/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/components/Header.vue","mtime":1585888599934},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2ggZnJvbSAiLi9TZWFyY2giOwovKiBpbXBvcnQgSW5mb0J1dHRvbiBmcm9tICIuL2J1dHRvbnMvSW5mbyI7CmltcG9ydCBEZWxldGVCdXR0b24gZnJvbSAiLi9idXR0b25zL0RlbGV0ZSI7CmltcG9ydCBSZW5hbWVCdXR0b24gZnJvbSAiLi9idXR0b25zL1JlbmFtZSI7CmltcG9ydCBVcGxvYWRCdXR0b24gZnJvbSAiLi9idXR0b25zL1VwbG9hZCI7CmltcG9ydCBEb3dubG9hZEJ1dHRvbiBmcm9tICIuL2J1dHRvbnMvRG93bmxvYWQiOwppbXBvcnQgU3dpdGNoQnV0dG9uIGZyb20gIi4vYnV0dG9ucy9Td2l0Y2hWaWV3IjsKaW1wb3J0IE1vdmVCdXR0b24gZnJvbSAiLi9idXR0b25zL01vdmUiOwppbXBvcnQgQ29weUJ1dHRvbiBmcm9tICIuL2J1dHRvbnMvQ29weSI7CmltcG9ydCBTaGFyZUJ1dHRvbiBmcm9tICIuL2J1dHRvbnMvU2hhcmUiOwppbXBvcnQgU2hlbGxCdXR0b24gZnJvbSAiLi9idXR0b25zL1NoZWxsIjsgKi8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgbG9nb1VSTCB9IGZyb20gIkAvdXRpbHMvY29uc3RhbnRzIjsKaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpIjsKaW1wb3J0IGJ1dHRvbnMgZnJvbSAiQC91dGlscy9idXR0b25zIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaGVhZGVyLWxheW91dCIsCiAgY29tcG9uZW50czogewogICAgU2VhcmNoLAogICAgSW5mb0J1dHRvbiwKICAgIERlbGV0ZUJ1dHRvbiwKICAgIFNoYXJlQnV0dG9uLAogICAgUmVuYW1lQnV0dG9uLAogICAgRG93bmxvYWRCdXR0b24sCiAgICBDb3B5QnV0dG9uLAogICAgVXBsb2FkQnV0dG9uLAogICAgU3dpdGNoQnV0dG9uLAogICAgTW92ZUJ1dHRvbiwKICAgIFNoZWxsQnV0dG9uCiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwKICAgICAgcGx1Z2luRGF0YTogewogICAgICAgIGFwaSwKICAgICAgICBidXR0b25zLAogICAgICAgIHN0b3JlOiB0aGlzLiRzdG9yZSwKICAgICAgICByb3V0ZXI6IHRoaXMuJHJvdXRlcgogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiB7CiAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAic2VsZWN0ZWRDb3VudCIsCiAgICAgICJpc0ZpbGVzIiwKICAgICAgImlzRWRpdG9yIiwKICAgICAgImlzTGlzdGluZyIsCiAgICAgICJpc0xvZ2dlZCIKICAgIF0pLAogICAgLi4ubWFwU3RhdGUoWyJyZXEiLCAidXNlciIsICJsb2FkaW5nIiwgInJlbG9hZCIsICJtdWx0aXBsZSJdKSwKICAgIGxvZ29VUkw6ICgpID0+IGxvZ29VUkwsCiAgICBpc01vYmlsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMud2lkdGggPD0gNzM2OwogICAgfSwKICAgIHNob3dVcGxvYWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTGlzdGluZyAmJiB0aGlzLnVzZXIucGVybS5jcmVhdGU7CiAgICB9LAogICAgc2hvd1NhdmVCdXR0b24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzRWRpdG9yICYmIHRoaXMudXNlci5wZXJtLm1vZGlmeTsKICAgIH0sCiAgICBzaG93RG93bmxvYWRCdXR0b24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzRmlsZXMgJiYgdGhpcy51c2VyLnBlcm0uZG93bmxvYWQ7CiAgICB9LAogICAgc2hvd0RlbGV0ZUJ1dHRvbigpIHsKICAgICAgcmV0dXJuICgKICAgICAgICB0aGlzLmlzRmlsZXMgJiYKICAgICAgICAodGhpcy5pc0xpc3RpbmcKICAgICAgICAgID8gdGhpcy5zZWxlY3RlZENvdW50ICE9PSAwICYmIHRoaXMudXNlci5wZXJtLmRlbGV0ZQogICAgICAgICAgOiB0aGlzLnVzZXIucGVybS5kZWxldGUpCiAgICAgICk7CiAgICB9LAogICAgc2hvd1JlbmFtZUJ1dHRvbigpIHsKICAgICAgcmV0dXJuICgKICAgICAgICB0aGlzLmlzRmlsZXMgJiYKICAgICAgICAodGhpcy5pc0xpc3RpbmcKICAgICAgICAgID8gdGhpcy5zZWxlY3RlZENvdW50ID09PSAxICYmIHRoaXMudXNlci5wZXJtLnJlbmFtZQogICAgICAgICAgOiB0aGlzLnVzZXIucGVybS5yZW5hbWUpCiAgICAgICk7CiAgICB9LAogICAgc2hvd1NoYXJlQnV0dG9uKCkgewogICAgICByZXR1cm4gKAogICAgICAgIHRoaXMuaXNGaWxlcyAmJgogICAgICAgICh0aGlzLmlzTGlzdGluZwogICAgICAgICAgPyB0aGlzLnNlbGVjdGVkQ291bnQgPT09IDEgJiYgdGhpcy51c2VyLnBlcm0uc2hhcmUKICAgICAgICAgIDogdGhpcy51c2VyLnBlcm0uc2hhcmUpCiAgICAgICk7CiAgICB9LAogICAgc2hvd01vdmVCdXR0b24oKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgdGhpcy5pc0ZpbGVzICYmCiAgICAgICAgKHRoaXMuaXNMaXN0aW5nCiAgICAgICAgICA/IHRoaXMuc2VsZWN0ZWRDb3VudCA+IDAgJiYgdGhpcy51c2VyLnBlcm0ucmVuYW1lCiAgICAgICAgICA6IHRoaXMudXNlci5wZXJtLnJlbmFtZSkKICAgICAgKTsKICAgIH0sCiAgICBzaG93Q29weUJ1dHRvbigpIHsKICAgICAgcmV0dXJuICgKICAgICAgICB0aGlzLmlzRmlsZXMgJiYKICAgICAgICAodGhpcy5pc0xpc3RpbmcKICAgICAgICAgID8gdGhpcy5zZWxlY3RlZENvdW50ID4gMCAmJiB0aGlzLnVzZXIucGVybS5jcmVhdGUKICAgICAgICAgIDogdGhpcy51c2VyLnBlcm0uY3JlYXRlKQogICAgICApOwogICAgfSwKICAgIHNob3dNb3JlKCkgewogICAgICByZXR1cm4gdGhpcy5pc0ZpbGVzICYmIHRoaXMuJHN0b3JlLnN0YXRlLnNob3cgPT09ICJtb3JlIjsKICAgIH0sCiAgICBzaG93T3ZlcmxheSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2hvd01vcmU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvcGVuU2lkZWJhcigpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaG93SG92ZXIiLCAic2lkZWJhciIpOwogICAgfSwKICAgIG9wZW5Nb3JlKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNob3dIb3ZlciIsICJtb3JlIik7CiAgICB9LAogICAgb3BlblNlYXJjaCgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaG93SG92ZXIiLCAic2VhcmNoIik7CiAgICB9LAogICAgdG9nZ2xlTXVsdGlwbGVTZWxlY3Rpb24oKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibXVsdGlwbGUiLCAhdGhpcy5tdWx0aXBsZSk7CiAgICAgIHRoaXMucmVzZXRQcm9tcHRzKCk7CiAgICB9LAogICAgcmVzZXRQcm9tcHRzKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoImNsb3NlSG92ZXJzIik7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <header>\n    <div>\n      <button\n        @click=\"openSidebar\"\n        :aria-label=\"$t('buttons.toggleSidebar')\"\n        :title=\"$t('buttons.toggleSidebar')\"\n        class=\"action\"\n      >\n        <i class=\"material-icons\">menu</i>\n      </button>\n      <img :src=\"logoURL\" alt=\"File Browser\" />\n      <search v-if=\"isLogged\"></search>\n    </div>\n    <div>\n      <template v-if=\"isLogged\">\n        <button\n          @click=\"openSearch\"\n          :aria-label=\"$t('buttons.search')\"\n          :title=\"$t('buttons.search')\"\n          class=\"search-button action\"\n        >\n          <i class=\"material-icons\">search</i>\n        </button>\n\n        <button\n          v-show=\"showSaveButton\"\n          :aria-label=\"$t('buttons.save')\"\n          :title=\"$t('buttons.save')\"\n          class=\"action\"\n          id=\"save-button\"\n        >\n          <i class=\"material-icons\">save</i>\n        </button>\n\n        <button\n          @click=\"openMore\"\n          id=\"more\"\n          :aria-label=\"$t('buttons.more')\"\n          :title=\"$t('buttons.more')\"\n          class=\"action\"\n        >\n          <i class=\"material-icons\">more_vert</i>\n        </button>\n\n        <!-- Menu that shows on listing AND mobile when there are files selected -->\n        <!--\n        <div id=\"file-selection\" v-if=\"isMobile && isListing\">\n          <span v-if=\"selectedCount > 0\">{{ selectedCount }} selected</span>\n          <share-button v-show=\"showShareButton\"></share-button>\n          <rename-button v-show=\"showRenameButton\"></rename-button>\n          <copy-button v-show=\"showCopyButton\"></copy-button>\n          <move-button v-show=\"showMoveButton\"></move-button>\n          <delete-button v-show=\"showDeleteButton\"></delete-button>\n        </div>\n        -->\n        <!-- This buttons are shown on a dropdown on mobile phones -->\n        <!--\n        <div id=\"dropdown\" :class=\"{ active: showMore }\">\n          <div v-if=\"!isListing || !isMobile\">\n            <share-button v-show=\"showShareButton\"></share-button>\n            <rename-button v-show=\"showRenameButton\"></rename-button>\n            <copy-button v-show=\"showCopyButton\"></copy-button>\n            <move-button v-show=\"showMoveButton\"></move-button>\n            <delete-button v-show=\"showDeleteButton\"></delete-button>\n          </div>\n\n          <shell-button v-show=\"user.perm.execute\" />\n          <switch-button v-show=\"isListing\"></switch-button>\n          <download-button v-show=\"showDownloadButton\"></download-button>\n          <upload-button v-show=\"showUpload\"></upload-button>\n          <info-button v-show=\"isFiles\"></info-button>\n\n          <button v-show=\"isListing\" @click=\"toggleMultipleSelection\" :aria-label=\"$t('buttons.selectMultiple')\" :title=\"$t('buttons.selectMultiple')\" class=\"action\" >\n            <i class=\"material-icons\">check_circle</i>\n            <span>{{ $t('buttons.select') }}</span>\n          </button>\n        </div>\n        -->\n      </template>\n\n      <div v-show=\"showOverlay\" @click=\"resetPrompts\" class=\"overlay\"></div>\n    </div>\n  </header>\n</template>\n\n<script>\nimport Search from \"./Search\";\n/* import InfoButton from \"./buttons/Info\";\nimport DeleteButton from \"./buttons/Delete\";\nimport RenameButton from \"./buttons/Rename\";\nimport UploadButton from \"./buttons/Upload\";\nimport DownloadButton from \"./buttons/Download\";\nimport SwitchButton from \"./buttons/SwitchView\";\nimport MoveButton from \"./buttons/Move\";\nimport CopyButton from \"./buttons/Copy\";\nimport ShareButton from \"./buttons/Share\";\nimport ShellButton from \"./buttons/Shell\"; */\nimport { mapGetters, mapState } from \"vuex\";\nimport { logoURL } from \"@/utils/constants\";\nimport * as api from \"@/api\";\nimport buttons from \"@/utils/buttons\";\n\nexport default {\n  name: \"header-layout\",\n  components: {\n    Search,\n    InfoButton,\n    DeleteButton,\n    ShareButton,\n    RenameButton,\n    DownloadButton,\n    CopyButton,\n    UploadButton,\n    SwitchButton,\n    MoveButton,\n    ShellButton\n  },\n  data: function() {\n    return {\n      width: window.innerWidth,\n      pluginData: {\n        api,\n        buttons,\n        store: this.$store,\n        router: this.$router\n      }\n    };\n  },\n  created() {\n    window.addEventListener(\"resize\", () => {\n      this.width = window.innerWidth;\n    });\n  },\n  computed: {\n    ...mapGetters([\n      \"selectedCount\",\n      \"isFiles\",\n      \"isEditor\",\n      \"isListing\",\n      \"isLogged\"\n    ]),\n    ...mapState([\"req\", \"user\", \"loading\", \"reload\", \"multiple\"]),\n    logoURL: () => logoURL,\n    isMobile() {\n      return this.width <= 736;\n    },\n    showUpload() {\n      return this.isListing && this.user.perm.create;\n    },\n    showSaveButton() {\n      return this.isEditor && this.user.perm.modify;\n    },\n    showDownloadButton() {\n      return this.isFiles && this.user.perm.download;\n    },\n    showDeleteButton() {\n      return (\n        this.isFiles &&\n        (this.isListing\n          ? this.selectedCount !== 0 && this.user.perm.delete\n          : this.user.perm.delete)\n      );\n    },\n    showRenameButton() {\n      return (\n        this.isFiles &&\n        (this.isListing\n          ? this.selectedCount === 1 && this.user.perm.rename\n          : this.user.perm.rename)\n      );\n    },\n    showShareButton() {\n      return (\n        this.isFiles &&\n        (this.isListing\n          ? this.selectedCount === 1 && this.user.perm.share\n          : this.user.perm.share)\n      );\n    },\n    showMoveButton() {\n      return (\n        this.isFiles &&\n        (this.isListing\n          ? this.selectedCount > 0 && this.user.perm.rename\n          : this.user.perm.rename)\n      );\n    },\n    showCopyButton() {\n      return (\n        this.isFiles &&\n        (this.isListing\n          ? this.selectedCount > 0 && this.user.perm.create\n          : this.user.perm.create)\n      );\n    },\n    showMore() {\n      return this.isFiles && this.$store.state.show === \"more\";\n    },\n    showOverlay() {\n      return this.showMore;\n    }\n  },\n  methods: {\n    openSidebar() {\n      this.$store.commit(\"showHover\", \"sidebar\");\n    },\n    openMore() {\n      this.$store.commit(\"showHover\", \"more\");\n    },\n    openSearch() {\n      this.$store.commit(\"showHover\", \"search\");\n    },\n    toggleMultipleSelection() {\n      this.$store.commit(\"multiple\", !this.multiple);\n      this.resetPrompts();\n    },\n    resetPrompts() {\n      this.$store.commit(\"closeHovers\");\n    }\n  }\n};\n</script>\n"]}]}