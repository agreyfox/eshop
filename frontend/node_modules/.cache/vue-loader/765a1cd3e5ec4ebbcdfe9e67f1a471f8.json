{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lq/ifb/src/eshop/frontend/src/components/buttons/Download.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/components/buttons/Download.vue","mtime":1583132470972},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwR2V0dGVycywgbWFwU3RhdGV9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7IGZpbGVzIGFzIGFwaSB9IGZyb20gJ0AvYXBpJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkb3dubG9hZC1idXR0b24nLAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbJ3JlcScsICdzZWxlY3RlZCddKSwKICAgIC4uLm1hcEdldHRlcnMoWydpc0xpc3RpbmcnLCAnc2VsZWN0ZWRDb3VudCddKQogIH0sCiAgbWV0aG9kczogewogICAgZG93bmxvYWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLmlzTGlzdGluZykgewogICAgICAgIGFwaS5kb3dubG9hZChudWxsLCB0aGlzLiRyb3V0ZS5wYXRoKQogICAgICAgIHJldHVybgogICAgICB9CgogICAgICBpZiAodGhpcy5zZWxlY3RlZENvdW50ID09PSAxICYmICF0aGlzLnJlcS5pdGVtc1t0aGlzLnNlbGVjdGVkWzBdXS5pc0RpcikgewogICAgICAgIGFwaS5kb3dubG9hZChudWxsLCB0aGlzLnJlcS5pdGVtc1t0aGlzLnNlbGVjdGVkWzBdXS51cmwpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2hvd0hvdmVyJywgJ2Rvd25sb2FkJykKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Download.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Download.vue","sourceRoot":"src/components/buttons","sourcesContent":["<template>\n  <button @click=\"download\" :aria-label=\"$t('buttons.download')\" :title=\"$t('buttons.download')\" id=\"download-button\" class=\"action\">\n    <i class=\"material-icons\">file_download</i>\n    <span>{{ $t('buttons.download') }}</span>\n    <span v-if=\"selectedCount > 0\" class=\"counter\">{{ selectedCount }}</span>\n  </button>\n</template>\n\n<script>\nimport {mapGetters, mapState} from 'vuex'\nimport { files as api } from '@/api'\n\nexport default {\n  name: 'download-button',\n  computed: {\n    ...mapState(['req', 'selected']),\n    ...mapGetters(['isListing', 'selectedCount'])\n  },\n  methods: {\n    download: function () {\n      if (!this.isListing) {\n        api.download(null, this.$route.path)\n        return\n      }\n\n      if (this.selectedCount === 1 && !this.req.items[this.selected[0]].isDir) {\n        api.download(null, this.req.items[this.selected[0]].url)\n        return\n      }\n\n      this.$store.commit('showHover', 'download')\n    }\n  }\n}\n</script>\n"]}]}