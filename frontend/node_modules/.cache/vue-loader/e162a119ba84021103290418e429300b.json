{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lq/ifb/src/eshop/frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/views/Login.vue","mtime":1585888182819},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGF1dGggZnJvbSAiQC91dGlscy9hdXRoIjsKaW1wb3J0IHsgbmFtZSwgbG9nb1VSTCwgc2lnbnVwIH0gZnJvbSAiQC91dGlscy9jb25zdGFudHMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgY29tcHV0ZWQ6IHsKICAgIHNpZ251cDogKCkgPT4gc2lnbnVwLAogICAgbmFtZTogKCkgPT4gbmFtZSwKICAgIGxvZ29VUkw6ICgpID0+IGxvZ29VUkwKICB9LAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgY3JlYXRlTW9kZTogZmFsc2UsCiAgICAgIGVycm9yOiAiIiwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHBhc3N3b3JkQ29uZmlybTogIiIKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gIGlmICghcmVjYXB0Y2hhKSByZXR1cm47CiAgICBjb25zb2xlLmxvZygiSSBhbSBoZXJlIik7CiAgICAvKiAgd2luZG93LmdyZWNhcHRjaGEucmVuZGVyKCJyZWNhcHRjaGEiLCB7CiAgICAgIHNpdGVrZXk6IHJlY2FwdGNoYUtleQogICAgfSk7ICovCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzdWJtaXQoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgICBsZXQgcmVkaXJlY3QgPSB0aGlzLiRyb3V0ZS5xdWVyeS5yZWRpcmVjdDsKICAgICAgaWYgKHJlZGlyZWN0ID09PSAiIiB8fCByZWRpcmVjdCA9PT0gdW5kZWZpbmVkIHx8IHJlZGlyZWN0ID09PSBudWxsKSB7CiAgICAgICAgcmVkaXJlY3QgPSAiL3NldHRpbmdzLyI7CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgYXV0aC5sb2dpbih0aGlzLnVzZXJuYW1lLCB0aGlzLnBhc3N3b3JkLCB0aGlzLnVzZXJuYW1lKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IHJlZGlyZWN0IH0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgaWYgKGUubWVzc2FnZSA9PSA0MDkpIHsKICAgICAgICAgIHRoaXMuZXJyb3IgPSB0aGlzLiR0KCJsb2dpbi51c2VybmFtZVRha2VuIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZXJyb3IgPSB0aGlzLiR0KCJsb2dpbi53cm9uZ0NyZWRlbnRpYWxzIik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"login\">\n    <form @submit=\"submit\">\n      <img :src=\"logoURL\" alt=\"EShop Manager\" />\n      <h1>{{ name }}</h1>\n      <div v-if=\"error !== ''\" class=\"wrong\">{{ error }}</div>\n\n      <input\n        class=\"input input--block\"\n        type=\"text\"\n        v-model=\"username\"\n        :placeholder=\"$t('login.username')\"\n      />\n      <input\n        class=\"input input--block\"\n        type=\"password\"\n        v-model=\"password\"\n        :placeholder=\"$t('login.password')\"\n      />\n\n      <input class=\"button button--block\" type=\"submit\" :value=\"$t('login.submit')\" />\n    </form>\n  </div>\n</template>\n\n<script>\nimport * as auth from \"@/utils/auth\";\nimport { name, logoURL, signup } from \"@/utils/constants\";\n\nexport default {\n  name: \"login\",\n  computed: {\n    signup: () => signup,\n    name: () => name,\n    logoURL: () => logoURL\n  },\n  data: function() {\n    return {\n      createMode: false,\n      error: \"\",\n      username: \"\",\n      password: \"\",\n      passwordConfirm: \"\"\n    };\n  },\n  mounted() {\n    //  if (!recaptcha) return;\n    console.log(\"I am here\");\n    /*  window.grecaptcha.render(\"recaptcha\", {\n      sitekey: recaptchaKey\n    }); */\n  },\n  methods: {\n    async submit(event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      let redirect = this.$route.query.redirect;\n      if (redirect === \"\" || redirect === undefined || redirect === null) {\n        redirect = \"/settings/\";\n      }\n\n      try {\n        await auth.login(this.username, this.password, this.username);\n        this.$router.push({ path: redirect });\n      } catch (e) {\n        if (e.message == 409) {\n          this.error = this.$t(\"login.usernameTaken\");\n        } else {\n          this.error = this.$t(\"login.wrongCredentials\");\n        }\n      }\n    }\n  }\n};\n</script>\n"]}]}