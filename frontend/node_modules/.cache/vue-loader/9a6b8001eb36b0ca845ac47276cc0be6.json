{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lq/ifb/src/eshop/frontend/src/components/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/components/Header.vue","mtime":1583132470972},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2ggZnJvbSAnLi9TZWFyY2gnCmltcG9ydCBJbmZvQnV0dG9uIGZyb20gJy4vYnV0dG9ucy9JbmZvJwppbXBvcnQgRGVsZXRlQnV0dG9uIGZyb20gJy4vYnV0dG9ucy9EZWxldGUnCmltcG9ydCBSZW5hbWVCdXR0b24gZnJvbSAnLi9idXR0b25zL1JlbmFtZScKaW1wb3J0IFVwbG9hZEJ1dHRvbiBmcm9tICcuL2J1dHRvbnMvVXBsb2FkJwppbXBvcnQgRG93bmxvYWRCdXR0b24gZnJvbSAnLi9idXR0b25zL0Rvd25sb2FkJwppbXBvcnQgU3dpdGNoQnV0dG9uIGZyb20gJy4vYnV0dG9ucy9Td2l0Y2hWaWV3JwppbXBvcnQgTW92ZUJ1dHRvbiBmcm9tICcuL2J1dHRvbnMvTW92ZScKaW1wb3J0IENvcHlCdXR0b24gZnJvbSAnLi9idXR0b25zL0NvcHknCmltcG9ydCBTaGFyZUJ1dHRvbiBmcm9tICcuL2J1dHRvbnMvU2hhcmUnCmltcG9ydCBTaGVsbEJ1dHRvbiBmcm9tICcuL2J1dHRvbnMvU2hlbGwnCmltcG9ydCB7bWFwR2V0dGVycywgbWFwU3RhdGV9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7IGxvZ29VUkwgfSBmcm9tICdAL3V0aWxzL2NvbnN0YW50cycKaW1wb3J0ICogYXMgYXBpIGZyb20gJ0AvYXBpJwppbXBvcnQgYnV0dG9ucyBmcm9tICdAL3V0aWxzL2J1dHRvbnMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2hlYWRlci1sYXlvdXQnLAogIGNvbXBvbmVudHM6IHsKICAgIFNlYXJjaCwKICAgIEluZm9CdXR0b24sCiAgICBEZWxldGVCdXR0b24sCiAgICBTaGFyZUJ1dHRvbiwKICAgIFJlbmFtZUJ1dHRvbiwKICAgIERvd25sb2FkQnV0dG9uLAogICAgQ29weUJ1dHRvbiwKICAgIFVwbG9hZEJ1dHRvbiwKICAgIFN3aXRjaEJ1dHRvbiwKICAgIE1vdmVCdXR0b24sCiAgICBTaGVsbEJ1dHRvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLAogICAgICBwbHVnaW5EYXRhOiB7CiAgICAgICAgYXBpLAogICAgICAgIGJ1dHRvbnMsCiAgICAgICAgJ3N0b3JlJzogdGhpcy4kc3RvcmUsCiAgICAgICAgJ3JvdXRlcic6IHRoaXMuJHJvdXRlcgogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7CiAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aAogICAgfSkKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsKICAgICAgJ3NlbGVjdGVkQ291bnQnLAogICAgICAnaXNGaWxlcycsCiAgICAgICdpc0VkaXRvcicsCiAgICAgICdpc0xpc3RpbmcnLAogICAgICAnaXNMb2dnZWQnCiAgICBdKSwKICAgIC4uLm1hcFN0YXRlKFsKICAgICAgJ3JlcScsCiAgICAgICd1c2VyJywKICAgICAgJ2xvYWRpbmcnLAogICAgICAncmVsb2FkJywKICAgICAgJ211bHRpcGxlJwogICAgXSksCiAgICBsb2dvVVJMOiAoKSA9PiBsb2dvVVJMLAogICAgaXNNb2JpbGUgKCkgewogICAgICByZXR1cm4gdGhpcy53aWR0aCA8PSA3MzYKICAgIH0sCiAgICBzaG93VXBsb2FkICgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNMaXN0aW5nICYmIHRoaXMudXNlci5wZXJtLmNyZWF0ZQogICAgfSwKICAgIHNob3dTYXZlQnV0dG9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNFZGl0b3IgJiYgdGhpcy51c2VyLnBlcm0ubW9kaWZ5CiAgICB9LAogICAgc2hvd0Rvd25sb2FkQnV0dG9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNGaWxlcyAmJiB0aGlzLnVzZXIucGVybS5kb3dubG9hZAogICAgfSwKICAgIHNob3dEZWxldGVCdXR0b24gKCkgewogICAgICByZXR1cm4gdGhpcy5pc0ZpbGVzICYmICh0aGlzLmlzTGlzdGluZwogICAgICAgID8gKHRoaXMuc2VsZWN0ZWRDb3VudCAhPT0gMCAmJiB0aGlzLnVzZXIucGVybS5kZWxldGUpCiAgICAgICAgOiB0aGlzLnVzZXIucGVybS5kZWxldGUpCiAgICB9LAogICAgc2hvd1JlbmFtZUJ1dHRvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzRmlsZXMgJiYgKHRoaXMuaXNMaXN0aW5nCiAgICAgICAgPyAodGhpcy5zZWxlY3RlZENvdW50ID09PSAxICYmIHRoaXMudXNlci5wZXJtLnJlbmFtZSkKICAgICAgICA6IHRoaXMudXNlci5wZXJtLnJlbmFtZSkKICAgIH0sCiAgICBzaG93U2hhcmVCdXR0b24gKCkgewogICAgICByZXR1cm4gdGhpcy5pc0ZpbGVzICYmICh0aGlzLmlzTGlzdGluZwogICAgICAgID8gKHRoaXMuc2VsZWN0ZWRDb3VudCA9PT0gMSAmJiB0aGlzLnVzZXIucGVybS5zaGFyZSkKICAgICAgICA6IHRoaXMudXNlci5wZXJtLnNoYXJlKQogICAgfSwKICAgIHNob3dNb3ZlQnV0dG9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNGaWxlcyAmJiAodGhpcy5pc0xpc3RpbmcKICAgICAgICA/ICh0aGlzLnNlbGVjdGVkQ291bnQgPiAwICYmIHRoaXMudXNlci5wZXJtLnJlbmFtZSkKICAgICAgICA6IHRoaXMudXNlci5wZXJtLnJlbmFtZSkKICAgIH0sCiAgICBzaG93Q29weUJ1dHRvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzRmlsZXMgJiYgKHRoaXMuaXNMaXN0aW5nCiAgICAgICAgPyAodGhpcy5zZWxlY3RlZENvdW50ID4gMCAmJiB0aGlzLnVzZXIucGVybS5jcmVhdGUpCiAgICAgICAgOiB0aGlzLnVzZXIucGVybS5jcmVhdGUpCiAgICB9LAogICAgc2hvd01vcmUgKCkgewogICAgICByZXR1cm4gdGhpcy5pc0ZpbGVzICYmIHRoaXMuJHN0b3JlLnN0YXRlLnNob3cgPT09ICdtb3JlJwogICAgfSwKICAgIHNob3dPdmVybGF5ICgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2hvd01vcmUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9wZW5TaWRlYmFyICgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzaG93SG92ZXInLCAnc2lkZWJhcicpCiAgICB9LAogICAgb3Blbk1vcmUgKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3Nob3dIb3ZlcicsICdtb3JlJykKICAgIH0sCiAgICBvcGVuU2VhcmNoICgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzaG93SG92ZXInLCAnc2VhcmNoJykKICAgIH0sCiAgICB0b2dnbGVNdWx0aXBsZVNlbGVjdGlvbiAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbXVsdGlwbGUnLCAhdGhpcy5tdWx0aXBsZSkKICAgICAgdGhpcy5yZXNldFByb21wdHMoKQogICAgfSwKICAgIHJlc2V0UHJvbXB0cyAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2xvc2VIb3ZlcnMnKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <header>\n    <div>\n      <button @click=\"openSidebar\" :aria-label=\"$t('buttons.toggleSidebar')\" :title=\"$t('buttons.toggleSidebar')\" class=\"action\">\n        <i class=\"material-icons\">menu</i>\n      </button>\n      <img :src=\"logoURL\" alt=\"File Browser\">\n      <search v-if=\"isLogged\"></search>\n    </div>\n    <div>\n      <template v-if=\"isLogged\">\n        <button @click=\"openSearch\" :aria-label=\"$t('buttons.search')\" :title=\"$t('buttons.search')\" class=\"search-button action\">\n          <i class=\"material-icons\">search</i>\n        </button>\n\n        <button v-show=\"showSaveButton\" :aria-label=\"$t('buttons.save')\" :title=\"$t('buttons.save')\" class=\"action\" id=\"save-button\">\n          <i class=\"material-icons\">save</i>\n        </button>\n\n        <button @click=\"openMore\" id=\"more\" :aria-label=\"$t('buttons.more')\" :title=\"$t('buttons.more')\" class=\"action\">\n          <i class=\"material-icons\">more_vert</i>\n        </button>\n\n        <!-- Menu that shows on listing AND mobile when there are files selected -->\n        <div id=\"file-selection\" v-if=\"isMobile && isListing\">\n          <span v-if=\"selectedCount > 0\">{{ selectedCount }} selected</span>\n          <share-button v-show=\"showShareButton\"></share-button>\n          <rename-button v-show=\"showRenameButton\"></rename-button>\n          <copy-button v-show=\"showCopyButton\"></copy-button>\n          <move-button v-show=\"showMoveButton\"></move-button>\n          <delete-button v-show=\"showDeleteButton\"></delete-button>\n        </div>\n\n        <!-- This buttons are shown on a dropdown on mobile phones -->\n        <div id=\"dropdown\" :class=\"{ active: showMore }\">\n          <div v-if=\"!isListing || !isMobile\">\n            <share-button v-show=\"showShareButton\"></share-button>\n            <rename-button v-show=\"showRenameButton\"></rename-button>\n            <copy-button v-show=\"showCopyButton\"></copy-button>\n            <move-button v-show=\"showMoveButton\"></move-button>\n            <delete-button v-show=\"showDeleteButton\"></delete-button>\n          </div>\n\n          <shell-button v-show=\"user.perm.execute\" />\n          <switch-button v-show=\"isListing\"></switch-button>\n          <download-button v-show=\"showDownloadButton\"></download-button>\n          <upload-button v-show=\"showUpload\"></upload-button>\n          <info-button v-show=\"isFiles\"></info-button>\n\n          <button v-show=\"isListing\" @click=\"toggleMultipleSelection\" :aria-label=\"$t('buttons.selectMultiple')\" :title=\"$t('buttons.selectMultiple')\" class=\"action\" >\n            <i class=\"material-icons\">check_circle</i>\n            <span>{{ $t('buttons.select') }}</span>\n          </button>\n        </div>\n      </template>\n\n      <div v-show=\"showOverlay\" @click=\"resetPrompts\" class=\"overlay\"></div>\n    </div>\n  </header>\n</template>\n\n<script>\nimport Search from './Search'\nimport InfoButton from './buttons/Info'\nimport DeleteButton from './buttons/Delete'\nimport RenameButton from './buttons/Rename'\nimport UploadButton from './buttons/Upload'\nimport DownloadButton from './buttons/Download'\nimport SwitchButton from './buttons/SwitchView'\nimport MoveButton from './buttons/Move'\nimport CopyButton from './buttons/Copy'\nimport ShareButton from './buttons/Share'\nimport ShellButton from './buttons/Shell'\nimport {mapGetters, mapState} from 'vuex'\nimport { logoURL } from '@/utils/constants'\nimport * as api from '@/api'\nimport buttons from '@/utils/buttons'\n\nexport default {\n  name: 'header-layout',\n  components: {\n    Search,\n    InfoButton,\n    DeleteButton,\n    ShareButton,\n    RenameButton,\n    DownloadButton,\n    CopyButton,\n    UploadButton,\n    SwitchButton,\n    MoveButton,\n    ShellButton\n  },\n  data: function () {\n    return {\n      width: window.innerWidth,\n      pluginData: {\n        api,\n        buttons,\n        'store': this.$store,\n        'router': this.$router\n      }\n    }\n  },\n  created () {\n    window.addEventListener('resize', () => {\n      this.width = window.innerWidth\n    })\n  },\n  computed: {\n    ...mapGetters([\n      'selectedCount',\n      'isFiles',\n      'isEditor',\n      'isListing',\n      'isLogged'\n    ]),\n    ...mapState([\n      'req',\n      'user',\n      'loading',\n      'reload',\n      'multiple'\n    ]),\n    logoURL: () => logoURL,\n    isMobile () {\n      return this.width <= 736\n    },\n    showUpload () {\n      return this.isListing && this.user.perm.create\n    },\n    showSaveButton () {\n      return this.isEditor && this.user.perm.modify\n    },\n    showDownloadButton () {\n      return this.isFiles && this.user.perm.download\n    },\n    showDeleteButton () {\n      return this.isFiles && (this.isListing\n        ? (this.selectedCount !== 0 && this.user.perm.delete)\n        : this.user.perm.delete)\n    },\n    showRenameButton () {\n      return this.isFiles && (this.isListing\n        ? (this.selectedCount === 1 && this.user.perm.rename)\n        : this.user.perm.rename)\n    },\n    showShareButton () {\n      return this.isFiles && (this.isListing\n        ? (this.selectedCount === 1 && this.user.perm.share)\n        : this.user.perm.share)\n    },\n    showMoveButton () {\n      return this.isFiles && (this.isListing\n        ? (this.selectedCount > 0 && this.user.perm.rename)\n        : this.user.perm.rename)\n    },\n    showCopyButton () {\n      return this.isFiles && (this.isListing\n        ? (this.selectedCount > 0 && this.user.perm.create)\n        : this.user.perm.create)\n    },\n    showMore () {\n      return this.isFiles && this.$store.state.show === 'more'\n    },\n    showOverlay () {\n      return this.showMore\n    }\n  },\n  methods: {\n    openSidebar () {\n      this.$store.commit('showHover', 'sidebar')\n    },\n    openMore () {\n      this.$store.commit('showHover', 'more')\n    },\n    openSearch () {\n      this.$store.commit('showHover', 'search')\n    },\n    toggleMultipleSelection () {\n      this.$store.commit('multiple', !this.multiple)\n      this.resetPrompts()\n    },\n    resetPrompts () {\n      this.$store.commit('closeHovers')\n    }\n  }\n}\n</script>\n"]}]}