{"remainingRequest":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lq/ifb/src/eshop/frontend/src/views/Share.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lq/ifb/src/eshop/frontend/src/views/Share.vue","mtime":1583132470984},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lq/ifb/src/eshop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHNoYXJlIGFzIGFwaSB9IGZyb20gJ0AvYXBpJwppbXBvcnQgeyBiYXNlVVJMIH0gZnJvbSAnQC91dGlscy9jb25zdGFudHMnCmltcG9ydCBRcmNvZGVWdWUgZnJvbSAncXJjb2RlLnZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2hhcmUnLAogIGNvbXBvbmVudHM6IHsKICAgIFFyY29kZVZ1ZQogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGxvYWRlZDogZmFsc2UsCiAgICBub3RGb3VuZDogZmFsc2UsCiAgICBmaWxlOiBudWxsCiAgfSksCiAgd2F0Y2g6IHsKICAgICckcm91dGUnOiAnZmV0Y2hEYXRhJwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5mZXRjaERhdGEoKQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGhhc2g6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtcy5wYXRoTWF0Y2gKICAgIH0sCiAgICBsaW5rOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBgJHtiYXNlVVJMfS9hcGkvcHVibGljL2RsLyR7dGhpcy5oYXNofS8ke2VuY29kZVVSSSh0aGlzLmZpbGUubmFtZSl9YAogICAgfSwKICAgIGZ1bGxMaW5rOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgdGhpcy5saW5rCiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hEYXRhOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5maWxlID0gYXdhaXQgYXBpLmdldEhhc2godGhpcy5oYXNoKQogICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5ub3RGb3VuZCA9IHRydWUKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Share.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Share.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"share\" v-if=\"loaded\">\n    <a target=\"_blank\" :href=\"link\">\n      <div class=\"share__box\">\n        <div class=\"share__box__download\" v-if=\"file.isDir\">{{ $t('download.downloadFolder') }}</div>\n        <div class=\"share__box__download\" v-else>{{ $t('download.downloadFile') }}</div>\n        <div class=\"share__box__info\">\n          <svg v-if=\"file.isDir\" fill=\"#40c4ff\" height=\"150\" viewBox=\"0 0 24 24\" width=\"150\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"/>\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n          </svg>\n          <svg v-else fill=\"#40c4ff\" height=\"150\" viewBox=\"0 0 24 24\" width=\"150\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"/>\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n          </svg>\n          <h1 class=\"share__box__title\">{{ file.name }}</h1>\n          <qrcode-vue :value=\"fullLink\" size=\"200\" level=\"M\"></qrcode-vue>\n        </div>\n      </div>\n    </a>\n  </div>\n</template>\n\n<script>\nimport { share as api } from '@/api'\nimport { baseURL } from '@/utils/constants'\nimport QrcodeVue from 'qrcode.vue'\n\nexport default {\n  name: 'share',\n  components: {\n    QrcodeVue\n  },\n  data: () => ({\n    loaded: false,\n    notFound: false,\n    file: null\n  }),\n  watch: {\n    '$route': 'fetchData'\n  },\n  created: function () {\n    this.fetchData()\n  },\n  computed: {\n    hash: function () {\n      return this.$route.params.pathMatch\n    },\n    link: function () {\n      return `${baseURL}/api/public/dl/${this.hash}/${encodeURI(this.file.name)}`\n    },\n    fullLink: function () {\n      return window.location.origin + this.link\n    },\n  },\n  methods: {\n    fetchData: async function () {\n      try {\n        this.file = await api.getHash(this.hash)\n        this.loaded = true\n      } catch (e) {\n        this.notFound = true\n      }\n    }\n  }\n}\n</script>\n"]}]}